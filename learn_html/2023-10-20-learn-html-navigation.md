---
title: 学习HTML-Navigation
date: 2023-10-20
layout: post
categories: ["Web Development","Programming"]
tags: ["html"]
draft: true
---

正如您在链接中了解到的，带有 href 属性的 `<a>` 元素创建用户可以通过单击或点击来跟踪的链接。在列表中，您学习了如何创建内容列表。在本节中，您将了解如何将链接列表分组在一起以创建导航。

有多种类型的导航以及多种显示它们的方式。链接到同一网站内其他页面的文本中的命名锚点被视为本地导航。本地导航由一系列链接组成，显示当前页面相对于站点结构的层次结构，或者用户访问当前页面所遵循的页面，称为面包屑。页面的目录是另一种类型的本地导航。包含指向站点上每个页面的分层链接的页面称为站点地图。每个页面上都存在的通往网站顶级页面的导航部分称为全局导航。全局导航可以通过多种不同的方式显示，包括导航栏、下拉菜单和弹出菜单。同一站点可能会以不同的方式显示其全局导航，具体取决于视口大小。

始终确保用户可以通过最少的点击次数导航到您网站上的任何页面，同时确保导航直观且不会让人不知所措。也就是说，对于导航元素没有具体要求。 MachineLearningWorkshop.com是一个单页网站，右上角有一个本地导航栏；这是多页面网站经常放置全局导航的地方。

如果您在 web.dev 上查看此页面，您可以发现一些导航功能。标题上方有一个面包屑导航，标题后面有一个“在此页面上”目录，以及一个“学习 HTML”目录，根据屏幕的宽度，该目录要么始终显示，要么通过单击可见的菜单按钮。页面上的第一个元素是 #main 的隐藏链接，它使您能够跳过侧边栏和面包屑链接。

### 跳至内容链接

```
<a href="#main" class="skip-link button">Skip to main</a>
```
当单击时，或者当它具有焦点并且用户点击 Enter 时，滚动页面并将焦点集中到主要内容：带有id的main地标 ：

```
<main id="main">
```
即使您已阅读前面的所有部分，您也可能从未见过此网站上的链接。仅当获得焦点时才显示：

为了提高可用性和可访问性，让用户绕过每个页面上重复的内容块非常重要。包含跳过链接，因此当键盘用户在加载时点击 tab 时，他们可以快速跳到网站的主要内容，从而避免通过大量链接进行切换。在此页面上，跳过链接会跳过部分范围的侧边栏导航和面包屑导航，将用户直接带到页面标题。

大多数设计师不喜欢页面顶部有链接的外观。最好从视图中隐藏链接，同时记住，当链接获得焦点时（键盘用户使用 Tab 键浏览页面上的链接时会发生这种情况），该链接必须对所有用户可见。仅使用类似于 .visually-hidden:not(:focus):not(:active) 的选择器隐藏非焦点和非活动状态下的内容。

链接文本为“跳至主页面”。这是链接的可访问名称。这是一个技术站点，用户可能知道“main”是什么意思。与所有链接文本一样，可访问的名称应清楚地表明链接将用户带到何处。链接目标应该是页面主要内容的开头。要对此进行测试，请在页面加载时按 Tab 键切换到“跳到主”链接。然后按 Enter 以确保它“跳转”到主要内容。

### 目录

跳到内容链接将主要内容滚动到视图中。第一个元素是带有此部分标题的 `<h1>` 标题。在本例中为 `<h1>Marking up navigation</h1>` 。主标题后面是标语，是对本教程内容的简要描述。目录导航位于代码库中的标题之前还是之后取决于浏览器的宽度。

如果您的浏览器宽度超过 80em，则目录位于标记中的标题之前，并且类似于以下内容（已删除类名称以简化标记）：

`<nav>` 是用于导航部分的最佳元素：它自动通知屏幕阅读器和搜索引擎该部分具有 navigation 角色，是一个landmark角色。

包含 aria-label 属性提供了导航目的的简要描述。在这种情况下，由于该属性的值对于页面上可见的文本来说是多余的，因此最好使用 aria-labelledby 来引用可见文本。

我们可以将非语义`<div>` 更改为段落 `<p>` ，然后添加 id 以便可以引用。然后我们使用 aria-labelledby ：

```
<nav aria-labelledby="tocTitle">
  <p id="tocTitle">On this page</p>
```

除了减少冗余之外，翻译服务还可以翻译可见文本，而属性值则可能不会。如果可能，如果存在提供足够标签的文本，则优先选择该文本而不是属性文本。

该导航是目录。如果您想使用 aria-label ，请提供该信息而不是重复可见文本：

```
<nav aria-label="Table of Contents">
  <p>On this page</p>
```
在元素上提供可访问的名称时，请勿包含该元素的名称。屏幕阅读器向用户提供该信息。例如，使用 `<nav>` 元素时，不要包含“navigation”；使用语义元素时包含该信息。

链接本身位于无序列表中。虽然它们不必嵌套在列表中，但使用列表可以使屏幕阅读器用户了解有多少列表项（以及链接）是导航中的单个列表。

```
<nav aria-labelledby="tocTitle">
  <p id="tocTitle">On this page</p>
  <ul role="list">
    <li>
      <a href="#skip">Skip to content link</a>
    </li>
    <li>
      <a href="#toc">Table of contents</a>
    </li>
    <li>
      <a href="#bc">Page breadcrumbs</a>
    </li>
    <li>
      <a href="#ln">Local navigation</a>
    </li>
    <li>
      <a href="#global">Global navigation</a>
    </li>
  </ul>
</nav>
```
如果您的浏览器宽度小于 80em，则“在此页面上”小部件位于标题和标语下方。这是通过包含两个目录导航组件并根据媒体设备查询使用 CSS display: none; 隐藏其中一个来完成的。

包含两个相同的小部件以仅显示一个是一种反模式。额外的字节可以忽略不计。使用 CSS display: none 对所有用户隐藏 HTML 内容是适当的。问题是，在宽屏幕上，目录位于 #main 之前；在较窄的屏幕上，目录嵌套在#main 中。使用键盘跳至内容可跳​​过宽屏幕上的目录。虽然用户习惯于在更改设备或增加字体大小时内容具有响应性并更改位置，但他们不希望在这样做时 Tab 键顺序发生变化。页面布局应该是可访问的、可预测的并且在整个站点上保持一致。在这里，目录的位置是不可预测的。

### 页面面包屑

面包屑提供辅助导航，帮助用户了解他们在网站上的位置。它们通常显示当前文档的 URL 层次结构以及当前页面在站点结构中的位置。从用户角度来看的站点结构可能与服务器上的文件结构不同。没事儿。用户不需要知道您如何组织文件，但他们确实需要能够浏览您的内容。

面包屑可帮助用户导航并了解网站的组织结构，使他们能够快速导航到任何祖先部分，而无需使用 back 功能退回到之前访问过的每个页面以到达当前页面。

如果站点具有简单的分层目录结构（如 web.dev 的情况），则面包屑导航通常由指向主页或主机名的链接以及指向 URL 路径名中每个目录的索引文件的链接组成。是否包含当前页面是可选的，需要额外注意。

```
const url = new URL("https://web.dev/learn/html/navigation");
const sections = url.hostname + url.pathname.split('/');
// "web.dev,learn,html,navigation"
```
每个 Learn HTML 模块页面都有相同的面包屑导航，显示 web.dev 的 learn 部分中 HTML 课程的层次结构。该代码类似于以下内容，为了清晰起见，删除了类和 SVG 详细信息：

该面包屑遵循最佳实践。它使用了具有地标意义的 `<nav>` 元素，因此辅助技术将面包屑呈现为页面上的导航元素。与 aria-label 一起提供的“breadcrumbs”的可访问名称将其与当前文档中的其他导航标志区分开来。

链接之间有 CSS 生成的内容分隔符。分隔符位于每个列表项之前，从第二个 `<li>` 开始。

```
[aria-label^="breadcrumb" i] li + li::before {
  content: "";
  display: block;
  width: 8px;
  height: 8px;
  border-top: 2px solid currentColor;
  border-right: 2px solid currentColor;
  rotate: 45deg;
  opacity: .8
}
```
屏幕阅读器不会“看到”它们，这是最佳实践：面包屑链接之间的分隔符应该对屏幕阅读器隐藏。它们还必须与背景有足够的对比度，与常规文本相同。

此版本使用无序列表和列表项。有序列表是更好的选择，因为有序列表项是可枚举的。它也是一个列表： role="list" 被添加回来，因为某些 CSS 显示属性值删除了某些元素的语义。

一般来说，面包屑中主页的链接应为“主页”，而不是以网站名称作为标签的网站徽标。但由于面包屑位于文档的顶部，并且是页面上唯一出现的徽标，因此使用这种反模式的原因是有道理的。

最后一个元素是自定义 `<share-action>` 元素。自定义元素将在第 15 节中讨论。虽然此自定义元素不是面包屑的一部分，但在 `<nav>` 中包含不相关的元素是可以的，只要包含内容在所有页面上都是一致的。

### 当前页面

在此页面上，当前页面“导航”不包含在面包屑中。当当前页面包含在面包屑中时，文本最好不是链接，并且 aria-current="page" 应包含在当前页面的列表项中。如果不包含它，则用图标或其他符号指示后面的标题是当前页面会很有帮助。

如果设计发生变化，可以使用面包屑的替代版本：
```
<nav aria-label="breadcrumbs">
  <ol role="list">
    <li>
      <a href="/">Home</a>
    </li>
    <li>
      <a href="/learn/">Learn</a>
    </li>
    <li>
      <a href="/learn/html">Learn HTML!</a>
    </li>
    <li aria-current="page">
      Navigation
    </li>
  </ol>
</nav>
```
面包屑不适合线性步骤。例如，用户到达当前页面所遵循的路径列表或配方中到目前为止所遵循的步骤列表可以嵌套在 `<nav>` 中，但不应标记为面包屑。

### 本地导航

此页面上还有另一个导航组件。如果您使用的是宽屏幕，左侧会出现一个带有“Learn HTML”徽标的侧边栏、一个搜索栏以及指向 Learn HTML 中 20 个部分中每个部分的链接。每个链接都包含章节编号、章节标题以及您已经访问过的章节右侧的复选标记（如果您已离开并返回，则可能是这个复选标记）。 Learn HTML 中所有部分的链接以及搜索和本地标题都是位置导航。

如果您在平板电脑或移动设备上访问此网站，或者屏幕较窄，则当您加载此页面时，侧边栏将被隐藏。您可以通过顶部导航栏中的汉堡菜单使其可见（是的，标题是设置了 role="navigation" 的自定义 `<web-header>` 元素）

宽屏幕上的永久本地导航与窄屏幕上可显示和消失的本地导航之间的主要区别在于可隐藏版本上的关闭按钮的显示。该图标在宽屏幕上隐藏 display: none; 。

该文档的链接（第 010 部分）与本地导航中的其他链接的外观略有不同，以向视力正常的用户表明这是当前页面。这种视觉差异是通过 CSS 创建的。当前页面也用 aria-current="page" 属性标识。这告知辅助技术它是当前页面的链接。此本地导航中此列表项的 HTML 类似于：

```
<li>
  <a aria-current="page" href="/learn/html/navigation/" data-complete="true">
    <span>010</span>
    <span>Navigation</span>
    <svg aria-label="Check" role="img">
      <use href="#checkmark" />
    </svg>
  </a>
</li>
```

如果您不是第一次访问此页面，则复选标记将不可见。如果您过去访问过此页面，则 data-complete 自定义属性将设置为 true ，并且将显示复选标记。每个链接中都包含复选标记，但由于缺少 data-complete="true" 属性和值，CSS 对之前没有访问过此页面的用户隐藏了复选框 display: none ：

```
.course .stack-nav a:not([data-complete="true"]) svg {
  display: none;
}
```
当 display 设置为 none 之外的其他值时， role 通知辅助技术内联 SVG 是图像，而 aria-label 则通知辅助技术。充当 `<img>` 上的 alt 属性。

### 全局导航

全局导航是指向网站顶级页面的导航部分，该部分在网站的每个页面上都是相同的。站点的全局导航也可能由选项卡组成，这些选项卡打开链接到站点的所有子部分或其他菜单的嵌套链接列表。它可能包括标题部分、按钮和搜索小部件。这些附加功能不是必需的。要求的是导航出现在每个页面上，并且每个页面上的导航都是相同的；当然，在任何指向当前页面的链接上都带有 aria-current="page" 。

全局导航提供了在应用程序或网站中的任何地方移动的一致方式。 Google 在页面顶部没有全局导航，雅虎却有。而所有的雅虎属性有不同的样式，大多数部分的内容是相同的。

新闻和体育全局导航标题的内容相同，但显示用户当前正在观看体育的图标没有足够的对比度，无法访问；即使对于视力正常的游客也是如此。这两个部分都有一个全局导航，其下方有一个特定于部分的本地导航。

与全局导航类似，所有页面上的页脚应该相同。但这是唯一的相似之处。全局导航可以从产品的角度导航到网站的所有部分。页脚内的导航元素没有特定要求。一般来说，页脚将包含公司链接，例如有关公司和职业的法律声明，并且可以指向外部来源，例如社交媒体图标。

此页面的页脚包含三个附加 `<nav>` 元素：页脚导航、Google 开发人员以及条款和政策，每个元素都是一个链接。页脚导航包括如何在 Github 上为 web.dev 做出贡献、Google 在 web.dev 之外提供的其他教育内容以及外部“如何连接”链接。

`<footer>` 中的这三个导航是 `<nav>` 元素，其中 aria-label 为这些标志性角色提供了易于访问的名称。我们看到的所有导航都是嵌套在导航列表中的链接。我们已经介绍了您创建自己的导航所需了解的所有信息。接下来，我们将研究标记数据表。

### 原文

- [Navigation](https://web.dev/learn/html/navigation?hl=en)
- [landmark解释](https://www.cnblogs.com/jrjrzivvv/p/13624576.html)
